<!--
    Beans for accessing the embedded OSGi layer
    -->

<beans
    xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="
    http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd"
    >
    <bean id="bundleContext" class="edu.northwestern.bioinformatics.studycalendar.web.tools.BundleContextLocator"/>

    <bean id="hostBeansInitializer" class="edu.northwestern.bioinformatics.studycalendar.web.osgi.HostBeansInitializer">
        <property name="bundleContext" ref="bundleContext"/>
        <property name="membrane" ref="membrane"/>
    </bean>

    <bean id="membrane" class="edu.northwestern.bioinformatics.studycalendar.utility.osgimosis.Membrane">
        <property name="nearClassLoader"
                  value="edu.northwestern.bioinformatics.studycalendar.web.osgi.ContextClassLoaderFactoryBean" />
        <property name="sharedPackages">
            <list>
                <value>edu.northwestern.bioinformatics.studycalendar.osgi.hostservices</value>

                <value>org.acegisecurity</value>
                <value>org.acegisecurity.userdetails</value>
                <value>org.springframework.context</value>

                <value>javax.sql</value>
            </list>
        </property>
    </bean>
</beans>